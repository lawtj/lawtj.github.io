function r(t,e){return t>=0&&t<e.length}function I(t,e,n=!0){if(!(t.length===0||e<0||e>=t.length))return t.length===1&&e===0?t[0]:e===t.length-1?n?t[0]:void 0:t[e+1]}function M(t,e,n=!0){if(!(t.length===0||e<0||e>=t.length))return t.length===1&&e===0?t[0]:e===0?n?t[t.length-1]:void 0:t[e-1]}function A(t,e,n,h=!0){if(t.length===0||e<0||e>=t.length)return;let i=e+n;return h?i=(i%t.length+t.length)%t.length:i=Math.max(0,Math.min(i,t.length-1)),t[i]}function b(t,e,n,h=!0){if(t.length===0||e<0||e>=t.length)return;let i=e-n;return h?i=(i%t.length+t.length)%t.length:i=Math.max(0,Math.min(i,t.length-1)),t[i]}function C(t,e,n){const h=e.toLowerCase();if(h.endsWith(" ")){const o=h.slice(0,-1);if(t.filter(f=>f.toLowerCase().startsWith(o)).length<=1)return C(t,o,n);const l=n==null?void 0:n.toLowerCase();if(l&&l.startsWith(o)&&l.charAt(o.length)===" "&&e.trim()===o)return n;const u=t.filter(f=>f.toLowerCase().startsWith(h));if(u.length>0){const f=n?t.indexOf(n):-1;return c(u,Math.max(f,0)).find(m=>m!==n)||n}}const g=e.length>1&&Array.from(e).every(o=>o===e[0])?e[0]:e,p=g.toLowerCase(),w=n?t.indexOf(n):-1;let s=c(t,Math.max(w,0));g.length===1&&(s=s.filter(o=>o!==n));const d=s.find(o=>o==null?void 0:o.toLowerCase().startsWith(p));return d!==n?d:void 0}function c(t,e){return t.map((n,h)=>t[(e+h)%t.length])}export{b,A as f,C as g,r as i,I as n,M as p};
