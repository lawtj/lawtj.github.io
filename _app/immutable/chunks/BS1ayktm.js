var ke=Object.defineProperty;var te=n=>{throw TypeError(n)};var Pe=(n,t,e)=>t in n?ke(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var T=(n,t,e)=>Pe(n,typeof t!="symbol"?t+"":t,e),Mt=(n,t,e)=>t.has(n)||te("Cannot "+e);var i=(n,t,e)=>(Mt(n,t,"read from private field"),e?e.call(n):t.get(n)),u=(n,t,e)=>t.has(n)?te("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),l=(n,t,e,r)=>(Mt(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),b=(n,t,e)=>(Mt(n,t,"access private method"),e);import{w as j,C as Re,b as v,n as y,p as mt,D as ce,B as Ne,F as Be,G as Me}from"./dJevVXyz.js";import{a as Xt,b as le,u as Ue,S as Ke}from"./C2lWuTCH.js";import{c as R,a as N,m as Ve,u as _e,o as P}from"./CT0_9vDE.js";import{B as ee,F as qe,A as We,aF as je,aG as Ge,E as Ze,P as He,O as Xe,Q as Ye,U as ze,u as Yt,f as B,h as et,p as rt,aH as Qe,a as nt,g as G,d as fe,e as de,b as Ut,aI as Je}from"./BDFh8iLU.js";import{s as it}from"./BDYVsCB4.js";import{i as $e,p}from"./D-HvKnqt.js";import{a as he,b as tr,c as re,d as ne}from"./Cx-fwsm7.js";function er(n,t,e){ee&&qe();var r=n,s=ze,o,a=We()?je:Ge;Ze(()=>{a(s,s=t())&&(o&&He(o),o=Xe(()=>e(r)))}),ee&&(r=Ye)}function bt(n){Yt(()=>()=>{n()})}function be(n,t){return setTimeout(t,n)}var Z,U,x,I,Kt,pt;class rr{constructor(t){u(this,I);u(this,Z);u(this,U);u(this,x,!1);l(this,Z,t),bt(()=>b(this,I,Kt).call(this))}run(t){if(i(this,x))return;b(this,I,Kt).call(this),l(this,x,!0);const e=i(this,Z).ref.current;if(!e){l(this,x,!1);return}if(typeof e.getAnimations!="function"){b(this,I,pt).call(this,t);return}l(this,U,window.requestAnimationFrame(()=>{const r=e.getAnimations();if(r.length===0){b(this,I,pt).call(this,t);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{b(this,I,pt).call(this,t)})}))}}Z=new WeakMap,U=new WeakMap,x=new WeakMap,I=new WeakSet,Kt=function(){i(this,U)&&(window.cancelAnimationFrame(i(this,U)),l(this,U,void 0)),l(this,x,!1)},pt=function(t){const e=()=>{t(),l(this,x,!1)};i(this,Z).afterTick?Xt(e):e()};var C,st,at;class Hr{constructor(t){u(this,C);u(this,st);u(this,at);l(this,C,t),l(this,st,t.enabled??!0),l(this,at,new rr({ref:i(this,C).ref,afterTick:i(this,C).open})),j([()=>i(this,C).open.current],([e])=>{i(this,st)&&i(this,at).run(()=>{e===i(this,C).open.current&&i(this,C).onComplete()})})}}C=new WeakMap,st=new WeakMap,at=new WeakMap;function nr(n,t){var e=R(),r=B(e);er(r,()=>t.children,s=>{var o=R(),a=B(o);it(a,()=>t.children??et),N(s,o)}),N(n,e)}const ir=new Re("BitsConfig");function sr(){const n=new ar(null,{});return ir.getOr(n).opts}class ar{constructor(t,e){T(this,"opts");const r=or(t,e);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function or(n,t){return e=>v.with(()=>{var o,a;const s=(o=e(t))==null?void 0:o.current;if(s!==void 0)return s;if(n!==null)return(a=e(n.opts))==null?void 0:a.current})}function ur(n,t){return e=>{const r=sr();return v.with(()=>{const s=e();if(s!==void 0)return s;const o=n(r).current;return o!==void 0?o:t})}}const cr=ur(n=>n.defaultPortalTo,"body");function Xr(n,t){rt(t,!0);const e=cr(()=>t.to),r=Qe();let s=fe(o);function o(){if(!he||t.disabled)return null;let h=null;return typeof e.current=="string"?h=document.querySelector(e.current):h=e.current,h}let a;function c(){a&&(_e(a),a=null)}j([()=>G(s),()=>t.disabled],([h,M])=>{if(!h||M){c();return}return a=Ve(nr,{target:h,props:{children:t.children},context:r}),()=>{c()}});var d=R(),f=B(d);{var E=h=>{var M=R(),vt=B(M);it(vt,()=>t.children??et),N(h,M)};$e(f,h=>{t.disabled&&h(E)})}N(n,d),nt()}function ie(n,t=500){let e=null;const r=(...s)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...s)},t)};return r.destroy=()=>{e!==null&&(clearTimeout(e),e=null)},r}function ve(n,t){return n===t||n.contains(t)}function ge(n){return(n==null?void 0:n.ownerDocument)??document}function lr(n,t){const{clientX:e,clientY:r}=n,s=t.getBoundingClientRect();return e<s.left||e>s.right||r<s.top||r>s.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var H,K,O,X,Y,D,ot,A,Et,tt,me,Ct,z,At,Ft,It,xt,ut,pe,Ot,Dt;const zt=class zt{constructor(t){u(this,tt);T(this,"opts");u(this,H);u(this,K);u(this,O,{pointerdown:!1});u(this,X,!1);u(this,Y,!1);u(this,D);u(this,ot);u(this,A,y);u(this,Et,t=>{t.defaultPrevented||this.opts.ref.current&&Xt(()=>{var e,r;!this.opts.ref.current||i(this,xt).call(this,t.target)||t.target&&!i(this,Y)&&((r=(e=i(this,ot)).current)==null||r.call(e,t))})});u(this,Ct,t=>{let e=t;e.defaultPrevented&&(e=se(t)),i(this,H).current(t)});u(this,z,ie(t=>{if(!this.opts.ref.current){i(this,A).call(this);return}const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||hr(t,this.opts.ref.current);if(!i(this,X)||b(this,tt,pe).call(this)||!e){i(this,A).call(this);return}let r=t;if(r.defaultPrevented&&(r=se(r)),i(this,K).current!=="close"&&i(this,K).current!=="defer-otherwise-close"){i(this,A).call(this);return}t.pointerType==="touch"?(i(this,A).call(this),l(this,A,le(i(this,D),"click",i(this,Ct),{once:!0}))):i(this,H).current(r)},10));u(this,At,t=>{i(this,O)[t.type]=!0});u(this,Ft,t=>{i(this,O)[t.type]=!1});u(this,It,()=>{this.opts.ref.current&&l(this,X,dr(this.opts.ref.current))});u(this,xt,t=>this.opts.ref.current?ve(this.opts.ref.current,t):!1);u(this,ut,ie(()=>{for(const t in i(this,O))i(this,O)[t]=!1;l(this,X,!1)},20));u(this,Ot,()=>{l(this,Y,!0)});u(this,Dt,()=>{l(this,Y,!1)});T(this,"props",{onfocuscapture:i(this,Ot),onblurcapture:i(this,Dt)});this.opts=t,l(this,K,t.interactOutsideBehavior),l(this,H,t.onInteractOutside),l(this,ot,t.onFocusOutside),Yt(()=>{l(this,D,ge(this.opts.ref.current))});let e=y;const r=()=>{i(this,ut).call(this),globalThis.bitsDismissableLayers.delete(this),i(this,z).destroy(),e()};j([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return be(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,i(this,K)),e(),e=b(this,tt,me).call(this))}),r}),bt(()=>{i(this,ut).destroy(),globalThis.bitsDismissableLayers.delete(this),i(this,z).destroy(),i(this,A).call(this),e()})}static create(t){return new zt(t)}};H=new WeakMap,K=new WeakMap,O=new WeakMap,X=new WeakMap,Y=new WeakMap,D=new WeakMap,ot=new WeakMap,A=new WeakMap,Et=new WeakMap,tt=new WeakSet,me=function(){return mt(P(i(this,D),"pointerdown",mt(i(this,At),i(this,It)),{capture:!0}),P(i(this,D),"pointerdown",mt(i(this,Ft),i(this,z))),P(i(this,D),"focusin",i(this,Et)))},Ct=new WeakMap,z=new WeakMap,At=new WeakMap,Ft=new WeakMap,It=new WeakMap,xt=new WeakMap,ut=new WeakMap,pe=function(){return Object.values(i(this,O)).some(Boolean)},Ot=new WeakMap,Dt=new WeakMap;let Vt=zt;function fr(n){return n.findLast(([t,{current:e}])=>e==="close"||e==="ignore")}function dr(n){const t=[...globalThis.bitsDismissableLayers],e=fr(t);if(e)return e[0].opts.ref.current===n;const[r]=t[0];return r.opts.ref.current===n}function hr(n,t){if("button"in n&&n.button>0)return!1;const e=n.target;return tr(e)?ge(e).documentElement.contains(e)&&!ve(t,e)&&lr(n,t):!1}function se(n){const t=n.currentTarget,e=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let s=!1;return new Proxy(r,{get:(a,c)=>c==="currentTarget"?t:c==="target"?e:c==="preventDefault"?()=>{s=!0,typeof a.preventDefault=="function"&&a.preventDefault()}:c==="defaultPrevented"?s:c in a?a[c]:n[c]})}function Yr(n,t){rt(t,!0);let e=p(t,"interactOutsideBehavior",3,"close"),r=p(t,"onInteractOutside",3,y),s=p(t,"onFocusOutside",3,y),o=p(t,"isValidEvent",3,()=>!1);const a=Vt.create({id:v.with(()=>t.id),interactOutsideBehavior:v.with(()=>e()),onInteractOutside:v.with(()=>r()),enabled:v.with(()=>t.enabled),onFocusOutside:v.with(()=>s()),isValidEvent:v.with(()=>o()),ref:t.ref});var c=R(),d=B(c);it(d,()=>t.children??et,()=>({props:a.props})),N(n,c),nt()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Lt,kt;const Qt=class Qt{constructor(t){T(this,"opts");T(this,"domContext");u(this,Lt,()=>P(this.domContext.getDocument(),"keydown",i(this,kt),{passive:!1}));u(this,kt,t=>{if(t.key!==Ne||!br(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(e)});this.opts=t,this.domContext=new ce(this.opts.ref);let e=y;j(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=i(this,Lt).call(this)),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}static create(t){return new Qt(t)}};Lt=new WeakMap,kt=new WeakMap;let _t=Qt;function br(n){const t=[...globalThis.bitsEscapeLayers],e=t.findLast(([s,{current:o}])=>o==="close"||o==="ignore");if(e)return e[0]===n;const[r]=t[0];return r===n}function zr(n,t){rt(t,!0);let e=p(t,"escapeKeydownBehavior",3,"close"),r=p(t,"onEscapeKeydown",3,y);_t.create({escapeKeydownBehavior:v.with(()=>e()),onEscapeKeydown:v.with(()=>r()),enabled:v.with(()=>t.enabled),ref:t.ref});var s=R(),o=B(s);it(o,()=>t.children??et),N(n,s),nt()}var F,ct;const Pt=class Pt{constructor(){u(this,F,v([]));u(this,ct,new WeakMap)}static getInstance(){return this.instance||(this.instance=new Pt),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause(),i(this,F).current=i(this,F).current.filter(r=>r!==t),i(this,F).current.unshift(t)}unregister(t){i(this,F).current=i(this,F).current.filter(r=>r!==t);const e=this.getActive();e&&e.resume()}getActive(){return i(this,F).current[0]}setFocusMemory(t,e){i(this,ct).set(t,e)}getFocusMemory(t){return i(this,ct).get(t)}isActiveScope(t){return this.getActive()===t}};F=new WeakMap,ct=new WeakMap,T(Pt,"instance");let qt=Pt;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ye=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Wt=ye.join(","),we=typeof Element>"u",$=we?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,wt=!we&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},St=function n(t,e){var r;e===void 0&&(e=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=s===""||s==="true",a=o||e&&t&&n(t.parentNode);return a},vr=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},Se=function(t,e,r){if(St(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(Wt));return e&&$.call(t,Wt)&&s.unshift(t),s=s.filter(r),s},Te=function n(t,e,r){for(var s=[],o=Array.from(t);o.length;){var a=o.shift();if(!St(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),d=c.length?c:a.children,f=n(d,!0,r);r.flatten?s.push.apply(s,f):s.push({scopeParent:a,candidates:f})}else{var E=$.call(a,Wt);E&&r.filter(a)&&(e||!t.includes(a))&&s.push(a);var h=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),M=!St(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(h&&M){var vt=n(h===!0?a.children:h.children,!0,r);r.flatten?s.push.apply(s,vt):s.push({scopeParent:a,candidates:vt})}else o.unshift.apply(o,a.children)}}return s},Ee=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ce=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||vr(t))&&!Ee(t)?0:t.tabIndex},gr=function(t,e){var r=Ce(t);return r<0&&e&&!Ee(t)?0:r},mr=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Ae=function(t){return t.tagName==="INPUT"},pr=function(t){return Ae(t)&&t.type==="hidden"},yr=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},wr=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},Sr=function(t){if(!t.name)return!0;var e=t.form||wt(t),r=function(c){return e.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=wr(s,t.form);return!o||o===t},Tr=function(t){return Ae(t)&&t.type==="radio"},Er=function(t){return Tr(t)&&!Sr(t)},Cr=function(t){var e,r=t&&wt(t),s=(e=r)===null||e===void 0?void 0:e.host,o=!1;if(r&&r!==t){var a,c,d;for(o=!!((a=s)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(s)||t!=null&&(d=t.ownerDocument)!==null&&d!==void 0&&d.contains(t));!o&&s;){var f,E,h;r=wt(s),s=(f=r)===null||f===void 0?void 0:f.host,o=!!((E=s)!==null&&E!==void 0&&(h=E.ownerDocument)!==null&&h!==void 0&&h.contains(s))}}return o},ae=function(t){var e=t.getBoundingClientRect(),r=e.width,s=e.height;return r===0&&s===0},Ar=function(t,e){var r=e.displayCheck,s=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=$.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if($.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var c=t;t;){var d=t.parentElement,f=wt(t);if(d&&!d.shadowRoot&&s(d)===!0)return ae(t);t.assignedSlot?t=t.assignedSlot:!d&&f!==t.ownerDocument?t=f.host:t=d}t=c}if(Cr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ae(t);return!1},Fr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var s=e.children.item(r);if(s.tagName==="LEGEND")return $.call(e,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}e=e.parentElement}return!1},Tt=function(t,e){return!(e.disabled||St(e)||pr(e)||Ar(e,t)||yr(e)||Fr(e))},oe=function(t,e){return!(Er(e)||Ce(e)<0||!Tt(t,e))},Ir=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},xr=function n(t){var e=[],r=[];return t.forEach(function(s,o){var a=!!s.scopeParent,c=a?s.scopeParent:s,d=gr(c,a),f=a?n(s.candidates):c;d===0?a?e.push.apply(e,f):e.push(c):r.push({documentOrder:o,tabIndex:d,item:s,isScope:a,content:f})}),r.sort(mr).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(e)},Or=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Te([t],e.includeContainer,{filter:oe.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:Ir}):r=Se(t,e.includeContainer,oe.bind(null,e)),xr(r)},Dr=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Te([t],e.includeContainer,{filter:Tt.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=Se(t,e.includeContainer,Tt.bind(null,e)),r},Lr=ye.concat("iframe").join(","),kr=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return $.call(t,Lr)===!1?!1:Tt(e,t)},L,m,w,V,k,g,Fe,Ie,xe,Oe,Gt,yt,Zt;const Jt=class Jt{constructor(t){u(this,g);u(this,L,!1);u(this,m,null);u(this,w,qt.getInstance());u(this,V,[]);u(this,k);l(this,k,t)}get paused(){return i(this,L)}pause(){l(this,L,!0)}resume(){l(this,L,!1)}mount(t){i(this,m)&&this.unmount(),l(this,m,t),i(this,w).register(this),b(this,g,Oe).call(this),b(this,g,Ie).call(this)}unmount(){i(this,m)&&(b(this,g,Fe).call(this),b(this,g,xe).call(this),i(this,w).unregister(this),l(this,m,null))}static use(t){let e=null;return j([()=>t.ref.current,()=>t.enabled.current],([r,s])=>{r&&s?(e||(e=new Jt(t)),e.mount(r)):e&&(e.unmount(),e=null)}),bt(()=>{e==null||e.unmount()}),{get props(){return{tabindex:-1}}}}};L=new WeakMap,m=new WeakMap,w=new WeakMap,V=new WeakMap,k=new WeakMap,g=new WeakSet,Fe=function(){for(const t of i(this,V))t();l(this,V,[])},Ie=function(){if(!i(this,m))return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});i(this,k).onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!i(this,m))return;const e=b(this,g,yt).call(this);e?(e.focus(),i(this,w).setFocusMemory(this,e)):i(this,m).focus()})},xe=function(){const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(i(this,k).onCloseAutoFocus.current(t),!t.defaultPrevented){const e=document.activeElement;e&&e!==document.body&&e.focus()}},Oe=function(){if(!i(this,m)||!i(this,k).trap.current)return;const t=i(this,m),e=t.ownerDocument,r=a=>{if(i(this,L)||!i(this,w).isActiveScope(this))return;const c=a.target;if(!c)return;if(t.contains(c))i(this,w).setFocusMemory(this,c);else{const f=i(this,w).getFocusMemory(this);if(f&&t.contains(f)&&kr(f))a.preventDefault(),f.focus();else{const E=b(this,g,yt).call(this),h=b(this,g,Zt).call(this)[0];(E||h||t).focus()}}},s=a=>{if(!i(this,k).loop||i(this,L)||a.key!=="Tab"||!i(this,w).isActiveScope(this))return;const c=b(this,g,Gt).call(this);if(c.length<2)return;const d=c[0],f=c[c.length-1];!a.shiftKey&&e.activeElement===f?(a.preventDefault(),d.focus()):a.shiftKey&&e.activeElement===d&&(a.preventDefault(),f.focus())};i(this,V).push(P(e,"focusin",r,{capture:!0}),P(t,"keydown",s));const o=new MutationObserver(()=>{const a=i(this,w).getFocusMemory(this);if(a&&!t.contains(a)){const c=b(this,g,yt).call(this),d=b(this,g,Zt).call(this)[0],f=c||d;f?(f.focus(),i(this,w).setFocusMemory(this,f)):t.focus()}});o.observe(t,{childList:!0,subtree:!0}),i(this,V).push(()=>o.disconnect())},Gt=function(){return i(this,m)?Or(i(this,m),{includeContainer:!1,getShadowRoot:!0}):[]},yt=function(){return b(this,g,Gt).call(this)[0]||null},Zt=function(){return i(this,m)?Dr(i(this,m),{includeContainer:!1,getShadowRoot:!0}):[]};let jt=Jt;function Qr(n,t){rt(t,!0);let e=p(t,"enabled",3,!1),r=p(t,"trapFocus",3,!1),s=p(t,"loop",3,!1),o=p(t,"onCloseAutoFocus",3,y),a=p(t,"onOpenAutoFocus",3,y);const c=jt.use({enabled:v.with(()=>e()),trap:v.with(()=>r()),loop:s(),onCloseAutoFocus:v.with(()=>o()),onOpenAutoFocus:v.with(()=>a()),ref:t.ref});var d=R(),f=B(d);it(f,()=>t.focusScope??et,()=>({props:c.props})),N(n,d),nt()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var Q,Rt,De,Nt,lt;const $t=class $t{constructor(t){u(this,Rt);T(this,"opts");T(this,"domContext");u(this,Q,y);u(this,Nt,t=>{const e=this.opts.ref.current,r=t.target;!re(e)||!re(r)||!this.opts.enabled.current||!Rr(this)||!Me(e,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&l(this,Q,Pr(e,this.domContext.getDocument().body)))});u(this,lt,()=>{i(this,Q).call(this),l(this,Q,y)});this.opts=t,this.domContext=new ce(t.ref);let e=y;j(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=b(this,Rt,De).call(this)),()=>{e(),i(this,lt).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(t){return new $t(t)}};Q=new WeakMap,Rt=new WeakSet,De=function(){return mt(P(this.domContext.getDocument(),"pointerdown",i(this,Nt)),P(this.domContext.getDocument(),"pointerup",Be(i(this,lt),this.opts.onPointerUp.current)))},Nt=new WeakMap,lt=new WeakMap;let Ht=$t;const ue=n=>n.style.userSelect||n.style.webkitUserSelect;function Pr(n,t){const e=ue(t),r=ue(n);return gt(t,"none"),gt(n,"text"),()=>{gt(t,e),gt(n,r)}}function gt(n,t){n.style.userSelect=t,n.style.webkitUserSelect=t}function Rr(n){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===n:!1}function Jr(n,t){rt(t,!0);let e=p(t,"preventOverflowTextSelection",3,!0),r=p(t,"onPointerDown",3,y),s=p(t,"onPointerUp",3,y);Ht.create({id:v.with(()=>t.id),onPointerDown:v.with(()=>r()),onPointerUp:v.with(()=>s()),enabled:v.with(()=>t.enabled&&e()),ref:t.ref});var o=R(),a=B(o);it(a,()=>t.children??et),N(n,o),nt()}var ft,J,_,q,Bt,Le;class Nr{constructor(t){u(this,Bt);u(this,ft);u(this,J,0);u(this,_,de());u(this,q);l(this,ft,t)}get(...t){return l(this,J,i(this,J)+1),G(i(this,_))===void 0&&l(this,q,Je(()=>{Ut(i(this,_),i(this,ft).call(this,...t),!0)})),Yt(()=>()=>{b(this,Bt,Le).call(this)}),G(i(this,_))}}ft=new WeakMap,J=new WeakMap,_=new WeakMap,q=new WeakMap,Bt=new WeakSet,Le=function(){l(this,J,i(this,J)-1),i(this,q)&&i(this,J)<=0&&(i(this,q).call(this),Ut(i(this,_),void 0),l(this,q,void 0))};const Br=new Nr(()=>{const n=new Ke,t=fe(()=>{for(const o of n.values())if(o)return!0;return!1});let e=de(null),r=null;function s(){he&&(document.body.setAttribute("style",G(e)??""),document.body.style.removeProperty("--scrollbar-width"),ne&&(r==null||r()))}return j(()=>G(t),()=>{if(!G(t))return;Ut(e,document.body.getAttribute("style"),!0);const o=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,d={padding:Number.parseInt(o.paddingRight??"0",10)+a,margin:Number.parseInt(o.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${d.padding}px`,document.body.style.marginRight=`${d.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),ne&&(r=le(document,"touchmove",f=>{f.target===document.documentElement&&(f.touches.length>1||f.preventDefault())},{passive:!1})),Xt(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),bt(()=>()=>{r==null||r()}),{get map(){return n},resetBodyStyle:s}});var W,dt,ht,S;class Mr{constructor(t,e=()=>null){u(this,W,Ue());u(this,dt);u(this,ht,()=>null);u(this,S);T(this,"locked");l(this,dt,t),l(this,ht,e),l(this,S,Br.get()),i(this,S)&&(i(this,S).map.set(i(this,W),i(this,dt)??!1),this.locked=v.with(()=>i(this,S).map.get(i(this,W))??!1,r=>i(this,S).map.set(i(this,W),r)),bt(()=>{if(i(this,S).map.delete(i(this,W)),Ur(i(this,S).map))return;const r=i(this,ht).call(this);r===null?requestAnimationFrame(()=>i(this,S).resetBodyStyle()):be(r,()=>i(this,S).resetBodyStyle())}))}}W=new WeakMap,dt=new WeakMap,ht=new WeakMap,S=new WeakMap;function Ur(n){for(const[t,e]of n)if(e)return!0;return!1}function $r(n,t){rt(t,!0);let e=p(t,"preventScroll",3,!0),r=p(t,"restoreScrollDelay",3,null);e()&&new Mr(e(),()=>r()),nt()}export{Yr as D,zr as E,Qr as F,Hr as O,Xr as P,$r as S,Jr as T,be as a,ie as d,bt as o};
